<!DOCTYPE html>
<html>
<head>
<title>HTML5 Bouncing Ball</title>
<style type="text/css">
h1 {
	color: Green;
	text-align: center;
}

body {
	background-color: #6b96b9;
	font: normal 12px/18px Arial, Helvetica, sans-serif;
}

#container {
	width: 600px;
	margin: 0;
}

#myCanvas {
	background: #99ffcc;
	border: 3px solid #ffffff;
}

canvas {
	display: block;
}

input {
	color: #ffffff;
	background: #34d947;
	padding: 10px 20px 10px 20px;
	text-decoration: none;
}
</style>
</head>
<body onload="draw()">
	<center>
		<h1>Bouncing Ball with a local storage - HomeWork -4</h1>
		<table>
			<td>
				<canvas id="canvas"></canvas>
				<div style="text-align: center">
					<input class="button" type="button" onclick="start()" value="Start" />
					&nbsp; <input class="button" type="button" onclick="pause()"
						value="Stop" />

				</div> </br>
				<div style="text-align: center">
					<canvas id="myCanvas" width="300" height="300" align="bottom"></canvas>
				</div>
			</td>
		</table>
	</center>
	<br />
	
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script>
		var context;
		var play = 0;
		var dx = 4;
		var dy = 4;
		//localStorage.clear();
		//context.fillStyle="cfcfcf";
		function draw() {

			if (typeof (Storage) !== "undefined") {
				if (localStorage.temx && localStorage.temy) {
					x = localStorage.temx;
					y = localStorage.temy
				} else {
					x = 10;
					y = 50;
					localStorage.temx = x;
					localStorage.temy = y;
				}
			}

			context = myCanvas.getContext('2d');
			context.clearRect(0, 0, 300, 300);
			context.beginPath();
			context.arc(x, y, 20, 0, Math.PI * 2, true);
			context.closePath();
			context.fill();

			if (x<0 || x>300) {
				dx = -dx;
				context.fillStyle = "#ff0000";
			}

			if (y<0 || y>300) {
				dy = -dy;
				context.fillStyle = "#0000ff";
			}

			x -= dx;
			y -= dy;
			localStorage.temx = x;
			localStorage.temy = y;

		}
		fix = setInterval(draw, 10);

		function pause() {
			clearInterval(fix);
			play = 1;

		}
		function start() {
			if (play != 0) {
				fix = setInterval(draw, 10);
			}
			play = 0;
		}
	</script>
</body>
</html>

